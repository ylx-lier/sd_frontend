# GitHub 自动推送功能使用说明

## 🚀 功能概述

为了方便代码版本管理和备份，我们为 AI 图像生成器添加了 GitHub 自动推送功能。每次进行重要更改后，可以一键将代码同步到 GitHub 仓库。

## 📦 功能特点

✅ **一键推送** - 点击按钮即可推送所有更改  
✅ **自动添加** - 自动添加所有新文件和修改文件  
✅ **智能检测** - 检测是否有更改需要提交  
✅ **时间戳** - 自动生成包含时间的提交信息  
✅ **状态反馈** - 显示详细的推送状态和结果  

## 🔧 使用方法

### 方法一：在 Web 界面中使用

1. 打开 AI 图像生成器 (http://127.0.0.1:7863)
2. 展开 "🚀 GitHub 自动推送" 面板
3. 点击 "🚀 推送到 GitHub" 按钮
4. 查看推送状态和结果

### 方法二：使用命令行脚本

```bash
# Windows 批处理脚本
auto_push.bat

# Linux/Mac shell 脚本  
./auto_push.sh

# Python 脚本（跨平台）
python auto_push.py
```

## 📋 推送内容

自动推送会包含以下所有更改：

- 📝 代码文件修改 (app.py 等)
- 📄 新增文档和指南 
- ⚙️ 配置文件变更
- 🖼️ 图像和资源文件
- 📦 依赖配置 (requirements.txt)

## ⚠️ 注意事项

### 推送前确认：
- ✅ 确保代码功能正常
- ✅ 确保没有敏感信息（如 API Key）
- ✅ 确保网络连接正常
- ✅ 确保 GitHub 访问权限正常

### 可能的错误：
1. **权限问题** - 确保配置了 GitHub Token 或 SSH Key
2. **网络问题** - 如果在国内，可能需要代理
3. **分支问题** - 确保当前分支是 main
4. **冲突问题** - 如果有冲突，先手动解决

## 🔗 仓库信息

**当前仓库：** https://github.com/ylx-lier/sd_frontend.git  
**主分支：** main  
**推送频率：** 手动触发或重要功能完成后  

## 📊 提交信息格式

```
Auto update: 2025-06-26 15:30:45 - 功能更新和优化

自动生成的提交信息包含：
- 时间戳
- 更改类型描述
- 功能更新说明
```

## 🛠️ 高级设置

如果需要自定义推送行为，可以修改 `auto_push.py` 脚本：

```python
# 修改提交信息
commit_message = f"Your custom message: {timestamp}"

# 修改推送分支
subprocess.run("git push origin your-branch", ...)

# 添加推送前的检查
# 例如：运行测试、代码检查等
```

## 🎯 最佳实践

1. **定期推送** - 建议每完成一个功能就推送一次
2. **有意义的更改** - 避免频繁推送微小更改
3. **测试后推送** - 确保功能正常后再推送
4. **备份重要节点** - 重要版本手动添加 Tag

---

**💡 提示：** 如果您觉得这个自动推送功能有用，也可以将其应用到其他项目中！
